{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"description":"The Canonical Chain History","editable":true,"gnetId":null,"graphTooltip":1,"id":null,"iteration":1612146455284,"links":[],"panels":[{"datasource":null,"fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":8,"w":24,"x":0,"y":0},"id":28,"options":{"content":"* This dashboard's data source is the canonical chain.\n\n\n* To omit the block race problem, we let the\nmonitoring canonical lags behind the real-time\nblockchain for a while(10 blocks).\n\n\n* As epoch adjustment occurs nearly every 4 hours,\nit would be best if you extended the time zone to see the epoch history.","mode":"markdown"},"pluginVersion":"7.3.1","timeFrom":null,"timeShift":null,"title":"Notes","type":"text"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":8},"id":15,"panels":[],"title":"Blocks","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":24,"x":0,"y":9},"hiddenSeries":false,"id":8,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"number","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"},{"params":[],"type":"distinct"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"number","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"measurement":"block","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"},{"params":[],"type":"distinct"}]],"tags":[{"key":"network","operator":"=","value":"aggron"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Block Number","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:3555","format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:3556","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":24,"x":0,"y":16},"hiddenSeries":false,"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"alias":"distinct block time","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["linear"],"type":"fill"}],"hide":false,"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["time_interval"],"type":"field"},{"params":[],"type":"distinct"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"mean 1h block time","groupBy":[{"params":["1h"],"type":"time"},{"params":["linear"],"type":"fill"}],"hide":true,"measurement":"block","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["time_interval"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Block Time Interval","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:1084","format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:1085","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":24,"x":0,"y":24},"hiddenSeries":false,"id":9,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"block transactions","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["transactions_count"],"type":"field"},{"params":[],"type":"distinct"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"block proposals","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"block","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["proposals_count"],"type":"field"},{"params":[],"type":"distinct"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Block Transactions / Proposals Count","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:3555","format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:3556","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":24,"x":0,"y":32},"hiddenSeries":false,"id":30,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Commit Transactions per Second (interval=5m)","groupBy":[{"params":["5m"],"type":"time"}],"hide":false,"limit":"","measurement":"block","orderByTime":"ASC","policy":"default","query":"SELECT \"transactions_count\" FROM \"blocks\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter LIMIT 10","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["transactions_count"],"type":"field"},{"params":[],"type":"sum"},{"params":[" / (5 * 60)"],"type":"math"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"Propose Transactions per Second (interval=5m)","groupBy":[{"params":["5m"],"type":"time"}],"hide":false,"limit":"","measurement":"blocks","orderByTime":"ASC","policy":"default","query":"SELECT \"transactions_count\" FROM \"blocks\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter LIMIT 10","rawQuery":false,"refId":"B","resultFormat":"time_series","select":[[{"params":["proposals_count"],"type":"field"},{"params":[],"type":"sum"},{"params":[" / (5 * 60)"],"type":"math"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"Commit Transactions per Second (interval=1m)","groupBy":[{"params":["1m"],"type":"time"}],"hide":false,"limit":"","measurement":"block","orderByTime":"ASC","policy":"default","query":"SELECT \"transactions_count\" FROM \"blocks\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter LIMIT 10","rawQuery":false,"refId":"C","resultFormat":"time_series","select":[[{"params":["transactions_count"],"type":"field"},{"params":[],"type":"sum"},{"params":[" / (1 * 60)"],"type":"math"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"Propose Transactions per Second (interval=1m)","groupBy":[{"params":["1m"],"type":"time"}],"hide":false,"limit":"","measurement":"blocks","orderByTime":"ASC","policy":"default","query":"SELECT \"transactions_count\" FROM \"blocks\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter LIMIT 10","rawQuery":false,"refId":"D","resultFormat":"time_series","select":[[{"params":["proposals_count"],"type":"field"},{"params":[],"type":"sum"},{"params":[" / (1 * 60)"],"type":"math"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transactions Per Second (in 5m)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"transformations":[],"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:1490","format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:1491","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":41},"id":17,"panels":[],"title":"Epochs","type":"row"},{"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{"align":null,"filterable":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"Epoch Number"},"properties":[{"id":"custom.width","value":103}]},{"matcher":{"id":"byName","options":"Uncles Count"},"properties":[{"id":"custom.width","value":100}]},{"matcher":{"id":"byName","options":"Length"},"properties":[{"id":"custom.width","value":65}]},{"matcher":{"id":"byName","options":"Duration (hr)"},"properties":[{"id":"custom.width","value":94}]},{"matcher":{"id":"byName","options":"Number"},"properties":[{"id":"custom.width","value":89}]}]},"gridPos":{"h":22,"w":8,"x":0,"y":42},"id":2,"options":{"showHeader":true,"sortBy":[{"desc":true,"displayName":"End Timestamp"}]},"pluginVersion":"7.3.1","targets":[{"groupBy":[],"hide":false,"limit":"","measurement":"epochs","orderByTime":"ASC","policy":"default","query":"SELECT \"number\", \"length\", \"duration\"  / 1000 / 60 / 60, \"uncles_count\" FROM \"epoch\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter","rawQuery":true,"refId":"B","resultFormat":"table","select":[[{"params":["number"],"type":"field"}],[{"params":["length"],"type":"field"}],[{"params":["duration"],"type":"field"},{"params":[" / 1000 / 60 / 60"],"type":"math"}],[{"params":["uncles_count"],"type":"field"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"timeFrom":null,"timeShift":null,"title":"Epochs","transformations":[{"id":"seriesToColumns","options":{"byField":"number"}},{"id":"organize","options":{"excludeByName":{},"indexByName":{"Time":5,"duration":4,"length":3,"number":0,"uncles_count":2,"uncles_count_length":1},"renameByName":{"Time":"End Timestamp","duration":"Duration (hr)","length":"Length","number":"Number","uncles_count":"Uncles Count","uncles_count_length":"Uncle Rate"}}}],"type":"table"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":42},"hiddenSeries":false,"id":13,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT  \"length\" FROM \"epoch\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter\n","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"$$hashKey":"object:69","colorMode":"warning","fill":false,"line":true,"op":"gt","value":1000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Epochs Length","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:412","format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:413","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":42},"hiddenSeries":false,"id":20,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT  \"duration\" / \"length\" FROM \"epoch\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter\n","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"$$hashKey":"object:410","colorMode":"warning","fill":false,"line":true,"op":"gt","value":14400,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Epochs Block Time (Duration / Length)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:412","format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:413","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":7,"w":16,"x":8,"y":50},"hiddenSeries":false,"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"uncle rate","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT \"uncles_count\" / \"length\" FROM \"epoch\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter\n","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"$$hashKey":"object:673","colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.025,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Epochs Uncle Rate","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:412","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:413","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"The Thresholds are defined based on mainnet","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":7,"w":16,"x":8,"y":57},"hiddenSeries":false,"id":12,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"derivative(12h)","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT derivative(\"uncles_count\" / \"length\", 12h) FROM \"epoch\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter\n","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"$$hashKey":"object:542","colorMode":"warning","fill":true,"line":true,"op":"gt","value":0.05,"yaxis":"left"},{"$$hashKey":"object:548","colorMode":"critical","fill":true,"line":true,"op":"lt","value":-0.05,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Epochs Uncle Rate Derivative","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"$$hashKey":"object:412","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"$$hashKey":"object:413","format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":64},"id":19,"panels":[],"title":"Uncles","type":"row"},{"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{"align":null,"filterable":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"Uncle Number"},"properties":[{"id":"custom.width","value":123}]},{"matcher":{"id":"byName","options":"Proposals"},"properties":[{"id":"custom.width","value":120}]}]},"gridPos":{"h":10,"w":24,"x":0,"y":65},"id":6,"options":{"showHeader":true,"sortBy":[{"desc":true,"displayName":"Time"}]},"pluginVersion":"7.3.1","targets":[{"groupBy":[],"limit":"15","measurement":"uncle","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"table","select":[[{"params":["*"],"type":"field"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"timeFrom":null,"timeShift":null,"title":"Recent 15 Uncles","transformations":[{"id":"organize","options":{"excludeByName":{"hostname":true,"miner_lock_args":false,"network":true,"version":true},"indexByName":{"Time":7,"hostname":1,"miner_lock_args":6,"network":2,"number":0,"proposals_count":3,"slower_than_cousin":5,"transactions_count":4,"version":8},"renameByName":{"miner_lock_args":"Miner","number":"Uncle Number","proposals_count":"Proposals","slower_than_cousin":"Slower Than Cousin Block (ms)","transactions_count":"Transactions"}}}],"type":"table"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":75},"id":24,"panels":[],"title":"2PC","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{"align":null,"filterable":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":76},"hiddenSeries":false,"id":22,"legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"count of transactions (2pc delay != 2)","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"transaction","orderByTime":"ASC","policy":"default","query":"SELECT count(\"pc_delay\") FROM \"transaction\" WHERE (\"network\" =~ /^$network$/ AND \"pc_delay\" \u003e 2) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["pc_delay"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"2PC Delay != 2 Traffic (WIP)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"transformations":[{"id":"organize","options":{"excludeByName":{"hostname":true,"network":true},"indexByName":{},"renameByName":{"number":"Committed Block Number","pc_delay":"2PC Delay Blocks"}}}],"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{"align":null,"filterable":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":76},"hiddenSeries":false,"id":26,"legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"count of transactions (2pc delay != 2)","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"transaction","orderByTime":"ASC","policy":"default","query":"SELECT count(\"pc_delay\") FROM \"transaction\" WHERE (\"network\" =~ /^$network$/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["pc_delay"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]},{"alias":"count of transactions (2pc delay == 2)","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"transaction","orderByTime":"ASC","policy":"default","query":"SELECT count(\"pc_delay\") FROM \"transaction\" WHERE (\"network\" =~ /^$network$/ AND \"pc_delay\" = 2) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pc_delay"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"2PC Delay (WIP)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"transformations":[{"id":"organize","options":{"excludeByName":{"hostname":true,"network":true},"indexByName":{},"renameByName":{"number":"Committed Block Number","pc_delay":"2PC Delay Blocks"}}}],"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"breakPoint":"50%","cacheTimeout":null,"combine":{"label":"Others","threshold":0},"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{"align":null,"filterable":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"fontSize":"80%","format":"short","gridPos":{"h":8,"w":12,"x":0,"y":84},"id":25,"interval":null,"legend":{"percentage":true,"show":true,"values":true},"legendType":"Under graph","links":[],"nullPointMode":"connected","pieType":"pie","pluginVersion":"7.3.1","strokeWidth":1,"targets":[{"alias":"2pc delay","groupBy":[],"measurement":"transaction","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["pc_delay"],"type":"field"}]],"tags":[{"key":"network","operator":"=~","value":"/^$network$/"}]}],"timeFrom":null,"timeShift":null,"title":"2PC Delay Distribution (WIP)","transformations":[{"id":"organize","options":{"excludeByName":{"hostname":true,"network":true},"indexByName":{},"renameByName":{"number":"Committed Block Number","pc_delay":"2PC Delay Blocks"}}}],"type":"grafana-piechart-panel","valueName":"current"}],"refresh":false,"schemaVersion":26,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"current":{"selected":false,"text":"aggron","value":"aggron"},"datasource":"influxdb-ckb","definition":"","error":null,"hide":0,"includeAll":false,"label":"Network","multi":false,"name":"network","options":[],"query":"SHOW TAG VALUES  WITH KEY = \"network\" ","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"selected":false,"text":"aggron-hangzhou","value":"aggron-hangzhou"},"datasource":"influxdb-ckb","definition":"","error":null,"hide":2,"includeAll":false,"label":"Hostname","multi":false,"name":"hostname","options":[],"query":"SHOW TAG VALUES WITH KEY = \"hostname\"","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"auto":false,"auto_count":30,"auto_min":"10s","current":{"selected":false,"text":"1h","value":"1h"},"error":null,"hide":2,"label":"Interval","name":"interval","options":[{"selected":false,"text":"1m","value":"1m"},{"selected":false,"text":"10m","value":"10m"},{"selected":false,"text":"30m","value":"30m"},{"selected":true,"text":"1h","value":"1h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"14d","value":"14d"},{"selected":false,"text":"30d","value":"30d"}],"query":"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d","queryValue":"","refresh":2,"skipUrlSync":false,"type":"interval"}]},"time":{"from":"now-3h","to":"now"},"timepicker":{},"timezone":"","title":"Canonical Chain","uid":"hpXtiLTGz","version":36}
