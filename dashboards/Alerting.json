{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"description":"A List of Alerts","editable":true,"gnetId":null,"graphTooltip":0,"id":null,"links":[],"panels":[{"datasource":null,"description":"","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":8,"w":24,"x":0,"y":0},"id":25,"options":{"content":"* Alert Title Suffix with `(network = $network)`\n\n   Being aware of which network is alerting\n   is important for maintainers. As Grafana\n   alerting messages are not supported to \n   contain template variables, we have to\n   attach the network name onto the alert\n   title. The message tag is another way\n   to distinguish the networks but it does\n   not display in the email subject.\n\n\n* Target Message Channel\n\n  There are two message channels, \n  wangguozhen@cryptape.com, and the another \n  is to the whole ckb team.\n\n  - \"No Data Alert\" alerts only send to \n  wangguozhen@cryptape.com; \n  - Alerts for wano network only send to \n  wangguozhen@cryptape.com; \n  - The rest send to the whole ckb team.","mode":"markdown"},"pluginVersion":"7.3.1","timeFrom":null,"timeShift":null,"title":"Notes","type":"text"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":8},"id":2,"panels":[],"title":"aggron alerts","type":"row"},{"alert":{"alertRuleTags":{"network":"aggron"},"conditions":[{"evaluator":{"params":[1],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"5m","frequency":"1m","handler":1,"message":"","name":"Tip Change (network=aggron) Alert","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"Tip number change indicates the change growth.\n\nWhen the tip number doesn't change for a long time,\nthe chain may suspend.","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":9},"hiddenSeries":false,"id":3,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"tip number change in 10m","groupBy":[],"hide":false,"measurement":"block","orderByTime":"ASC","policy":"default","query":"SELECT non_negative_derivative(\"number\", 5m) FROM \"block\" WHERE (\"network\" = 'aggron') AND $timeFilter","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"},{"params":["10m"],"type":"derivative"}]],"tags":[{"key":"network","operator":"=","value":"aggron"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":1}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Tip Change (network = aggron)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[300000],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"2m","frequency":"1m","handler":1,"name":"Block Time Interval Alert (network = aggron)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"Block time interval relates to the network mining power and the network propagation. A continuous long block time interval is a warning.","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":9},"hiddenSeries":false,"id":4,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":true,"rightSide":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"block time interval in 10m","groupBy":[{"params":["5m"],"type":"time"},{"params":["network"],"type":"tag"}],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["time_interval"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"network","operator":"=","value":"aggron"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":300000}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Block Time Interval (network = aggron)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Transaction Being Pending Too Long Alert (network = aggron)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"There is a transaction being pending for a long time.\n\nTransactions should be packaged within new blocks or removed because of invalidation. Therefore if there are any pending-too-long transactions, tx-pool may have trouble.","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":17},"hiddenSeries":false,"id":5,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"pending long transactions","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"tx-transition","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["elapsed"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=","value":"aggron"},{"condition":"AND","key":"event","operator":"=","value":"pending_long"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction Being Pending Too Long (network = aggron)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Transaction Being Proposed Too Long Alert (network = aggron)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"There is a transaction being proposed for a long time.\n\nTransactions should be packaged within new blocks or removed because of invalidation. Therefore if there are any proposed-too-long transactions, tx-pool may have trouble.","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":17},"hiddenSeries":false,"id":6,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"proposed long transactions","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"tx-transition","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["elapsed"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=","value":"aggron"},{"condition":"AND","key":"event","operator":"=","value":"propose_long"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction Being Proposed Too Long (network = aggron)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{"network":"aggron"},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Error/Warning Logs Alert (network=aggron)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":25},"hiddenSeries":false,"id":7,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null as zero","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"error/warning logs count","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["marker"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"network","operator":"=","value":"aggron"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Error/Warning Logs (network = aggron)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{"network":"aggron"},"conditions":[{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"60m","frequency":"30m","handler":1,"name":"No Data Alert (network = aggron)","noDataState":"alerting","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":25},"hiddenSeries":false,"id":21,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"groupBy":[],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"}]],"tags":[{"key":"network","operator":"=","value":"aggron"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"No Data Alert (network = aggron)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":33},"id":8,"panels":[],"title":"lina alerts","type":"row"},{"alert":{"alertRuleTags":{"network":"lina"},"conditions":[{"evaluator":{"params":[1],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"5m","frequency":"1m","handler":1,"message":"","name":"Tip Change (network=lina) Alert","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"Tip number change indicates the change growth.\n\nWhen the tip number doesn't change for a long time,\nthe chain may suspend.","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":34},"hiddenSeries":false,"id":9,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"tip number change in 10m","groupBy":[],"hide":false,"measurement":"block","orderByTime":"ASC","policy":"default","query":"SELECT non_negative_derivative(\"number\", 5m) FROM \"block\" WHERE (\"network\" = 'lina') AND $timeFilter","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"},{"params":["10m"],"type":"derivative"}]],"tags":[{"key":"network","operator":"=","value":"lina"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":1}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Tip Change (network = lina)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[300000],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"2m","frequency":"1m","handler":1,"name":"Block Time Interval Alert (network = lina)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":34},"hiddenSeries":false,"id":10,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":true,"rightSide":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"block time interval in 10m","groupBy":[{"params":["5m"],"type":"time"},{"params":["network"],"type":"tag"}],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["time_interval"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"network","operator":"=","value":"lina"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":300000}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Block Time Interval (network = lina)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Transaction Being Pending Too Long (network = lina)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":42},"hiddenSeries":false,"id":11,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"pending long transactions","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"tx-transition","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["elapsed"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=","value":"lina"},{"condition":"AND","key":"event","operator":"=","value":"pending_long"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction Being Pending Too Long (network = lina)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Transaction Being Proposed Too Long Alert (network = lina)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":42},"hiddenSeries":false,"id":12,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"proposed long transactions","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"tx-transition","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["elapsed"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=","value":"lina"},{"condition":"AND","key":"event","operator":"=","value":"propose_long"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction Being Proposed Too Long (network = lina)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{"network":"lina"},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Error/Warning Logs Alert (network=lina)","noDataState":"keep_state","notifications":[{"uid":"imvlsWLGk"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":50},"hiddenSeries":false,"id":13,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null as zero","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"error/warning logs count","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["marker"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"network","operator":"=","value":"lina"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Error/Warning Logs (network = lina)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"60m","frequency":"30m","handler":1,"name":"No Data Alert (network = lina)","noDataState":"alerting","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":50},"hiddenSeries":false,"id":22,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"groupBy":[],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"}]],"tags":[{"key":"network","operator":"=","value":"lina"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"No Data Alert (network = lina)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":58},"id":14,"panels":[],"title":"wano alerts","type":"row"},{"alert":{"alertRuleTags":{"network":"wano"},"conditions":[{"evaluator":{"params":[1],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"5m","frequency":"1m","handler":1,"message":"","name":"Tip Change Alert (network=wano)","noDataState":"keep_state","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","description":"Tip number change indicates the change growth.\n\nWhen the tip number doesn't change for a long time,\nthe chain may suspend.","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":59},"hiddenSeries":false,"id":15,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"tip number change in 10m","groupBy":[],"hide":false,"measurement":"block","orderByTime":"ASC","policy":"default","query":"SELECT non_negative_derivative(\"number\", 5m) FROM \"block\" WHERE (\"network\" = 'wano') AND $timeFilter","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"},{"params":["10m"],"type":"derivative"}]],"tags":[{"key":"network","operator":"=","value":"wano"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":1}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Tip Change (network = wano)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[300000],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"2m","frequency":"1m","handler":1,"name":"Block Time Interval Alert (network = wano)","noDataState":"keep_state","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":59},"hiddenSeries":false,"id":16,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":true,"rightSide":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"block time interval in 10m","groupBy":[{"params":["5m"],"type":"time"},{"params":["network"],"type":"tag"}],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["time_interval"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"network","operator":"=","value":"wano"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":300000}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Block Time Interval (network = wano)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Transaction Being Pending Too Long Alert (network = wano)","noDataState":"keep_state","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":67},"hiddenSeries":false,"id":17,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"pending long transactions","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"tx-transition","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["elapsed"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=","value":"wano"},{"condition":"AND","key":"event","operator":"=","value":"pending_long"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction Being Pending Too Long (network = wano)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Transaction Being Proposed Too Long Alert (network = wano)","noDataState":"keep_state","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":67},"hiddenSeries":false,"id":18,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"proposed long transactions","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"tx-transition","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["elapsed"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"network","operator":"=","value":"wano"},{"condition":"AND","key":"event","operator":"=","value":"propose_long"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction Being Proposed Too Long (network = wano)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{"network":"wano"},"conditions":[{"evaluator":{"params":[0],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"0m","frequency":"1m","handler":1,"name":"Error/Warning Logs Alert (network=wano)","noDataState":"keep_state","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":75},"hiddenSeries":false,"id":19,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null as zero","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"error/warning logs count","groupBy":[{"params":["10m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["marker"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"network","operator":"=","value":"wano"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Error/Warning Logs (network = wano)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"alertRuleTags":{},"conditions":[{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","15m","now-10m"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","for":"60m","frequency":"30m","handler":1,"name":"No Data Alert (network = wano)","noDataState":"alerting","notifications":[{"uid":"ykeH4qaGz"}]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"influxdb-ckb","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":75},"hiddenSeries":false,"id":23,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.3.1","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"groupBy":[],"measurement":"block","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["number"],"type":"field"}]],"tags":[{"key":"network","operator":"=","value":"wano"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"No Data Alert (network = wano)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":false,"schemaVersion":26,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-30m","to":"now"},"timepicker":{},"timezone":"","title":"Alerting","uid":"vcN5hTfGz","version":54}
